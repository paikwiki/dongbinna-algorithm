# 정렬(Sorting)

연속된 데이터를 기준에 따라서 정렬하기 위한 알고리즘

## 정렬

정렬(Sorting): 데이터를 특정한 기준에 따라서 순서대로 나열하는 것

- 정렬 알고리즘은 이진 탐색의 전처리 과정이기도 함
- 이 책에서 다루는 정렬: 선택 정렬, 삽입 정렬, 퀵 정렬, 계수 정렬

- 파이썬에서 오름차순 정렬 후 내림차순 정렬로 리스트를 뒤집은 연산은 O(N)의 복잡도

### 선택 정렬

데이터가 무작위로 있을 때, 가장 작은 데이터를 선택해 맨 앞에 있는 데이터와 바꾸고, 그 다음 작은 데이터를 선택해 앞에서 두 번째 데이터와 바꾸는 과정을 반복.

매번 '가장 작은 것을 선택'한다는 의미에서 선택 정렬(Selection Sort) 알고리즘이라고 한다.

- 가장 작은 데이터를 앞으로 보내는 과정을 N - 1 번 반복하여 정렬 완료
- 스와프(Swap): 특정한 리스트가 주어졌을 때 두 변수의 위치를 변경하는 작업
- 시간복잡도 O(N^2), 직관적으로 이야기하자면 간단한 2중 반복문이 사용되었기 때문이라고 할 수 있음
- 선택 정렬은 기본 정렬 라이브러리를 포함해 다른 알고리즘과 비교했을 때 매우 비효율적임

### 삽입 정렬

> 데이터를 하나씩 확인하며, 각 데이터를 적절한 위치에 삽입하면 어떨까?

- 선택 정렬처럼 동작 원리를 직관적으로 이해하기 쉬운 알고리즘
- 선택 정렬보다 구현 난이도가 높은 편
- 선택 정렬에 비해 실행 시간 측면에서 더 효율적인 알고리즘
- 필요할 때만 위치를 바꾸므로 '데이터가 거의 정렬되어 있을 때' 훨씬 효율적임
- 적절한 위치에 삽입하는 과정을 N - 1 번 반복하여 정렬 완료
- 정렬이 이루어진 원소는 항상 오름차순을 유지하므로 특정 데이터가 삽입될 위치를 선정할 때(삽입될 위치를 찾기 위해 왼쪽으로 한 칸씩 이동할 때), 삽입될 데이터보다 작은 데이터를 만나면 그 위치에서 멈춤
- 시간복잡도 O(N^2), 하지만 거의 정렬이 되어있을 경우에는 퀵 정렬보다 더 강력하다.

### 퀵 정렬

> 기준 데이터를 설정하고 그 기준보다 큰 데이터와 작은 데이터의 위치를 바꾸면 어떨까?

- 지금까지 배운 정렬 알고리즘 중 가장 많이 사용되는 알고리즘
- 병합 정렬과 함께 프로그래밍 언어에서 정렬 라이브러리의 근간이 되는 알고리즘
- 기준을 정한 다음 큰 수와 작은 수를 교환한 후 리스트를 반으로 나누는 방식으로 동작
- 피벗(Pivot): 큰 숫자와 작은 숫자를 교환할 때, 교환하기 위한 '기준'을 피벗이라고 표현
- 피벗을 설정하고 리스트를 분할하는 방법에 따라 여러 가지 방식으로 퀵 정렬을 구분하는데 책에서는 호어 분할(Hoare Partition) 방식을 설명: 리스트에서 첫 번째 데이터를 피벗으로 정함
- 시간복잡도 O(NlogN), 최악의 경우에는 O(N^2)
- 퀵 정렬 기반 정렬라이브러리는 최악의 경우에도 시간 복잡도를 O(NlogN)이 될 수 있도록 피벗값을 설정할 때 추가적인 로직을 더함

### 계수 정렬

- 특정한 조건이 부합할 때만 사용할 수 있지만 매우 빠른 알고리즘
- 모든 데이터가 양의 정수, 데이터의 개수가 N, 최댓값이 K일 때, 계수 정렬은 최악의 경우에도 수행시간 O(N + K)를 보장
- 매우 빠르고 원리도 간단
- '데이터의 크기 범위가 제한되어 정수 형태로 표현할 수 있을 때'만 사용할 수 있음
- 일반적으로 가장 큰 데이터와 가장 작은 데이터의 차이가 1,000,000을 넘지 않을 때 효과적
- 계수 정렬은 '모든 범위를 담을 수 있는 크기의 리스트(배열)을 선언'해야 함
- 모든 데이터가 양의 정수, 데이터의 개수가 N, 최댓값이 K일 때, 시간복잡도는 O(N + K)
- 현존하는 알고리즘 중에서 기수 정렬(Radix Sort)와 더불어 가장 빠른 정렬 알고리즘
- 기수 정렬은 계수 정렬에 비해 동작은 느리지만, 처리할 수 있는 정수의 크기는 더 큼
- 단점: 데이터가 0, 999,999 단 두 가지만 있어도 리스트는 100만 개가 되도록 선언함
- 성적의 경우: 100점이 여러 명일 수 있어서 계수 정렬이 효과적
- 퀵 정렬은 일반적인 경우에서 빠르기 때문에 데이터의 특성을 파악하기 어렵다면 퀵 정렬 이용
- 계수 정렬: 크기가 한정, 데이터의 중복이 많을 수록 유리하고 항상 사용할 순 없음
- 계수 정렬의 공간 복잡도 O(N + K)

## 파이썬의 정렬 라이브러리

> 정렬 알고리즘 문제는 어느 정도 정해진 답이 있는, 즉 외워서 잘 풀어낼 수 있는 문제라고 할 수 있다.

파이썬의 기본 정렬 라이브러리 `sorted()`

- 퀵 정렬과 동작 방식이 비슷한 병합 정렬을 기반으로 만들어짐
- 병합정렬: 퀵 정렬보다 느리지만 최악의 경우에도 O(NlogN)을 보장함
- `sorted()` 함수는 리스트, 딕셔너리 자료형 등을 입력받아서 정렬된 결과를 출력

리스트 객체의 내장 함수 `sort()`

- 별도의 정렬된 리스트가 반환되지 않고, 내부 원소가 바로 정렬됨

`sorted()`나 `sort()`는 key 매개변수를 입력으로 받을 수 있음(람다Lambda 함수도 이용 가능)

정렬 라이브러리의 시간 복잡도

- 최악의 경우에도 O(NlogN) 보장
- 직접 퀵 정렬을 구현할 때보다 더욱더 효과적
- 병합 정렬과 삽입 정렬의 아이디어를 더한 하이브리드 방식의 정렬 알고리즘

코딩 테스트에서 정렬 알고리즘이 사용되는 경우

- 정렬 라이브러리로 풀 수 있는 문제: 단순히 정렬 기법을 알고 있는지 물어보는 문제
- 정렬 알고리즘의 원리에 대해서 물어보는 문제: 선택 정렬, 삽입 정렬, 퀵 정렬 등의 원리를 알고 있어야 풀 수 있는 문제
- 더 빠른 정렬이 필요한 문제: 퀵 정렬 기반의 정렬 기법으로는 풀 수 없으며 계수 정렬 등의 다른 정렬 알고리즘을 이용하거나 문제에서 기존에 알려진 알고리즘의 구조적인 개선을 거쳐야 풀 수 있는 문제
