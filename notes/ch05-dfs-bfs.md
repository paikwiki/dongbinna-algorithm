# DFS/BFS

## 꼭 필요한 자료구조 기초

- 탐색(Search): 많은 양의 데이터 중에서 원하는 데이터를 찾는 과정
- 자료구조(Data Structure): 데이터를 표현하고 관리하고 처리하기 위한 구조

스택과 큐의 핵심적인 함수

- 삽입(Push): 데이터를 삽입
- 삭제(Pop): 데이터를 삭제

- 오버플로(Overflow): 특정한 자료구조가 수용할 수 있는 데이터의 크기가 이미 가득찬 상태에서 삽입연산을 수행할 때 발생
- 언더플로(Underflow): 특정한 자료구조에 데이터가 전혀 들어있지 않은 상태에서 삭제 연산을 수행할 때 발생

### 스택

- 선입후출(First In Last Out), 후입선출(Last In First Out)
- 파이썬은 기본 리스트에서 `append()`와 `pop()` 메서드를 이용해 스택 자료구조를 활용할 수 있음

### 큐

- 대기 줄에 비유. 나중에 온 사람이 나중에 들어가므로 '공정한' 자료구조라고 부름
- 선입선출(First In First Out)
- 파이썬은 collections 모듈에서 제공하는 deque 자료구조를 활용해 큐를 활용

deque

- 스택과 큐의 장점을 모두 채택한 것
- 데이터 읽기/쓰기 속도가 리스트 자료형에 비해 효율적
- queue 라이브러리를 이용하는 것보다 더 간단함
- deque 객체를 리스트 자료형으로 변경하고자 한다면 `list()` 메서드 활용(`list(queue)`)

### 재귀 함수

- 재귀 함수(Recursive Function): 자기 자신을 다시 호출하는 함수
- "재귀 함수는 내부적으로 스택 자료구조와 동일하다"
- DFS처럼 스택 자료구조를 활용하는 알고리즘은 재귀 함수를 이용해 간편하게 구현할 수 있음

점화식: 특정한 함수를 자신보다 더 작은 변수에 대한 함수와의 관계로 표현한 것

- 재귀함수는 수학의 점화식(재귀식)을 그대로 소스코드로 옮김
- 점화식에서 종료 조건을 찾을 수 있음
- 무한히 반복되지 않도록 if 문을 이용해 꼭 종료 조건을 구현

## 탐색 알고리즘 DFS/BFS

### DFS

- DFS(Depth-First Search, 깊이 우선 탐색): 그래프에서 깊은 부분을 우선적으로 탐색하는 알고리즘. 스택 활용

그래프의 기본 구조

- 그래프: 노드(Node)와 간선(Edge)으로 표현
- 노드: 정점(Vertex)이라고도 부름
- 노드의 인접(Adjacent): 두 노드가 간선으로 연결되어 있음을 의미

그래프 탐색: 하나의 노드를 시작으로 다수의 노드를 방문하는 것

프로그래밍에서의 주요 그래프 2가지

- 인접 행렬(Adjacency Matrix): 2차원 배열로 그래프의 연결 관계를 표현하는 방식
- 인접 리스트(Adjacency List): 리스트로 그래프의 연결 관계를 표현하는 방식

인접 행렬(Adjacency Matrix) 방식

- 2차원 배열에 각 노드가 연결된 형태를 기록하는 방식
- 연결이 되지 않은 노드끼리는 무한(Infinity)의 비용으로 작성
- 코드에서는 무한 대신 논리적으로 정답이 될 수 없는 큰 값 중에서 999999999, 987654321 등의 값으로 초기화하는 경우가 많음

인접 리스트(Adjacency List) 방식

- 모든 노드에 연결된 노드에 대한 정보를 차례대로 연결하여 저장함
- 인접 리스트는 '연결 리스트'라는 자료 구조를 이용하여 구현함
- 파이썬은 리스트 자료형이 `append()` 메소드를 제공하므로 전통적인 프로그래밍 언어에서의 배열과 연결 리스트의 기능을 모두 기본으로 제공함

> 파이썬으로 인접 리스트를 이용해 그래프를 표현하고자 할 때에도 단순히 2차원 리스트를 이용하면 된다는 점만 기억아자. p.136.

|              | 인접 행렬 | 인접 리스트 |
|--------------|---------|----------|
| 메모리        | 모든 관계를 저장해서 노드 개수가 많을 수록 메모리가 많이 낭비 | 연결된 정보만 저장하기 때문에 메모리를 효율적으로 사용 |
| 노드간 연결 확인 | 빠르다   | 느리다     |
| 모든 인접 노드 순회 | 메모리 낭비 적음 | 메모리 낭비 큼 |

DFS의 동작 과정

1. 탐색 시작 노드를 스택에 삽입하고 방문 처리를 한다.
1. 스택의 최상단 노드에 방문하지 않은 인접 노드가 있으면 그 인접 노드를 스택에 넣고 방문 처리를 한다. 방문하지 않은 인접 노드가 없으면 스택에서 최상단 노드를 꺼낸다.
1. 2번의 과정을 더 이상 수행할 수 없을 때까지 반복한다.

DFS의 특징

- 스택 자료구조에 기초함
- 구현이 간단함
- 실제로 스택을 쓰지 않아도 되긴 함
- 데이터의 개수가 N인 경우 O(N)
- 재귀 함수를 이용해 간결하게 구현 가능함

### BFS

- BFS(Breath First Search, 너비 우선 탐색): 알고리즘: 가까운 노드부터 선택하는 알고리즘. 큐 활용

BFS의 동작 과정

1. 탐색 시작 노드를 큐에 삽입하고 방문 처리를 한다.
1. 큐에서 노드를 꺼내 해당 노드의 인접 노드 중에서 방문하지 않은 노트를 모두 큐에 삽입하고 방문 처리를 한다.
1. 2번의 과정을 더 이상 수행할 수 없을 때까지 반복한다.

BFS의 특징

- 큐 자료구조에 기초
- 구현이 간단함
- deque 라이브러리를 사용하는 것이 좋음
- O(N)의 시간 소요
- 일반적인 경우, 실제 수행 시간은 DFS보다 좋은 편

|         | DFS         | BFS          |
|---------|-------------|--------------|
| 동작 원리 | 스택         | 큐            |
| 구현 방법 | 재귀 함수 이용 | 큐 자료구조 이용 |

> 1차원 배열이나 2차원 배열 또한 그래프 형태로 생각하면 수월하게 문제를 풀 수 있다. 특히나 DFS와 BFS 문제 유형이 그렇다. (중략) 그러므로 코딩 테스트에 탐색 문제를 보면 그래프 형태로 표현한 다음 풀이법을 고민하도록 하자. p.148.
